!function(e){function r(s){if(t[s])return t[s].exports;var l=t[s]={i:s,l:!1,exports:{}};return e[s].call(l.exports,l,l.exports,r),l.l=!0,l.exports}var t={};r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=8)}([function(e,r,t){"use strict";function s(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}t.d(r,"e",function(){return i}),t.d(r,"d",function(){return o}),t.d(r,"b",function(){return n}),t.d(r,"c",function(){return a}),t.d(r,"a",function(){return p});var l=function(){function e(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(r,t,s){return t&&e(r.prototype,t),s&&e(r,s),r}}(),i=function e(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1],l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0],n=arguments.length>5&&void 0!==arguments[5]&&arguments[5];s(this,e),this.img=r,this.size=t,this.pos=l,this.speed=i,this.stills=o,this.noRepeat=n,this._order=0,this.order=0,this.lastOrder=!1},o=function(){function e(r,t,l,i){s(this,e),this.pos=i||{x:0,y:0},this.sprites=r,this.rotate=l||{angle:[0],x:0,y:0},this.size=t||{x:this.sprites.size[0],y:this.sprites.size[1]}}return l(e,[{key:"updateSprites",value:function(e){this.sprites._order+=this.sprites.speed*e,this.sprites.order=Math.floor(this.sprites._order)%this.sprites.stills.length,this.sprites.noRepeat&&Math.floor(this.sprites._order)>this.sprites.stills.length-1&&(this.sprites.lastOrder=!0)}}]),e}(),n=function(){function e(){s(this,e),this.arr=[]}return l(e,[{key:"add",value:function(e){this.arr.push(e)}},{key:"getEntities",value:function(){for(var e=[],r=0;r<this.arr.length;r++)Array.isArray(this.arr[r])?e=e.concat(this.arr[r]):e.push(this.arr[r]);return e}}]),e}(),a=function(){function e(){s(this,e),this.domElement=document.createElement("canvas"),this.ctx=this.domElement.getContext("2d")}return l(e,[{key:"render",value:function(e,r){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=e.getEntities(),l=0;l<s.length;l++){var i=s[l].sprites.stills[s[l].sprites.order];this.ctx.save(),this.ctx.translate(s[l].pos.x,s[l].pos.y),this.ctx.rotate(s[l].rotate.angle[0]),this.ctx.drawImage(Array.isArray(s[l].sprites.img)?s[l].sprites.img[i]:s[l].sprites.img,Array.isArray(s[l].sprites.img)?s[l].sprites.pos[0]:s[l].sprites.pos[0]+i*s[l].sprites.size[0],s[l].sprites.pos[1],s[l].sprites.size[0],s[l].sprites.size[1],-s[l].rotate.x*t,-s[l].rotate.y*t,s[l].size.x*t,s[l].size.y*t),this.ctx.restore()}}},{key:"width",set:function(e){this.domElement.width=e},get:function(){return this.domElement.width}},{key:"height",set:function(e){this.domElement.height=e},get:function(){return this.domElement.height}}]),e}(),p=function(){function e(){s(this,e),this.mousemove={x:0,y:0},this.mouseLeft=!1,this.mouseRight=!1,this.wheel={up:!1,down:!1},this.key={}}return l(e,[{key:"start",value:function(){var e=this;document.addEventListener("mousedown",function(r){1==r.which&&(e.mouseLeft=!0),3==r.which&&(e.mouseRight=!0)}),document.addEventListener("mouseup",function(r){1==r.which&&(e.mouseLeft=!1),3==r.which&&(e.mouseRight=!1)}),document.oncontextmenu=function(){return!1},document.addEventListener("mousemove",function(r){e.mousemove.x=r.clientX,e.mousemove.y=r.clientY}),document.addEventListener("keydown",function(r){e.key[r.keyCode]=!0}),document.addEventListener("keyup",function(r){e.key[r.keyCode]=!1}),document.addEventListener("wheel",function(r){120==r.wheelDelta&&(e.wheel={up:!0,down:!1}),-120==r.wheelDelta&&(e.wheel={up:!1,down:!0})}),window.addEventListener("blur",function(){e.mousemove={x:0,y:0},e.mouseLeft=!1,e.mouseRight=!1,e.wheel={up:!1,down:!1},e.key={}})}}]),e}()},function(e,r,t){"use strict";function s(e){var r=[e[0]];if(2==e.length||3==e.length)for(var t=++e[0];t<=e[1];t++)r.push(t);if(3==e.length)for(var s=--e[1];s>=e[2];s--)r.push(s);return r}r.a=s},function(e,r,t){"use strict";var s=t(7),l=t(6),i=t(5);t.d(r,"a",function(){return s.a}),t.d(r,"c",function(){return l.a}),t.d(r,"b",function(){return i.a})},function(e,r,t){"use strict";function s(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(r,t,s){return t&&e(r.prototype,t),s&&e(r,s),r}}(),i=function(){function e(){s(this,e),this.loaderStatusArr=[],this.resourcesArr=[],this.resourcesObj={},this.callbackArr=[]}return l(e,[{key:"loaderStatus",value:function(e){return this.loaderStatusArr.push(e),this}},{key:"callbac",value:function(e){return this.callbackArr.push(e),this}},{key:"add",value:function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];for(var s=0;s<r.length;s++)Array.isArray(r[s])?this.resourcesArr=this.resourcesArr.concat(r[s]):this.resourcesArr.push(r[s]);return this}},{key:"start",value:function(){for(var e=function(e){var t=new Image;t.onload=function(){this.resourcesObj[e]=t;var s=r();this.loaderStatusArr.forEach(function(e){e(s)}),100==s&&this.callbackArr.forEach(function(e){e()})}.bind(this),this.resourcesObj[e]=null,t.src=e}.bind(this),r=function(){var e=0,r=0;for(var t in this.resourcesObj)this.resourcesObj.hasOwnProperty(t)&&this.resourcesObj[t]&&e++,r++;return Math.floor(e/r*100)}.bind(this);this.resourcesArr.length;){var t=this.resourcesArr.pop();this.resourcesObj.hasOwnProperty(t)||e(t)}}},{key:"get",value:function(e){return this.resourcesObj[e]}}]),e}();r.a=i},function(e,r,t){"use strict";var s=t(11),l=t(9),i=t(10),o=t(12),n=t(13),a=t(14);t.d(r,"f",function(){return s.a}),t.d(r,"a",function(){return i.a}),t.d(r,"b",function(){return l.a}),t.d(r,"c",function(){return o.a}),t.d(r,"d",function(){return n.a}),t.d(r,"e",function(){return a.a})},function(e,r,t){"use strict";function s(e){for(var r={size:{x:4e3,y:4e3},pos:{x:-1e3,y:-1e3},arr:[]},t={x:500,y:500},s=0;s<64;s++)r.arr.push(new l.d(new l.e(e.get("./img/floortiles.png"),[512,512],[0,0],0,[0]),t));for(var i=0;i<10;i++)r.arr[Math.floor(Math.random()*r.arr.length)]=new l.d(new l.e(e.get("./img/floortiles_drain.png"),[512,512],[0,0],0,[0]),t);return r}var l=t(0);r.a=s},function(e,r,t){"use strict";function s(e,r,s){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,a=e.get(s),p={angle:[0],pos:{x:0,y:0},attackBool:!1,dieBool:!1,size:[32.5*o*r.screenSize,32.5*o*r.screenSize]},u=void 0,d=void 0,h=void 0;return u=new l.e(a,[65,65],[0,0],n,t.i(i.a)([0,5])),d={x:u.size[0]*o,y:u.size[1]*o},h={angle:p.angle,x:u.size[0]/2*o,y:u.size[1]/2*o},p.run=new l.d(u,d,h,p.pos),u=new l.e(a,[65,65],[0,65],n,t.i(i.a)([0,3]),!0),d={x:u.size[0]*o,y:u.size[1]*o},h={angle:p.angle,x:u.size[0]/2*o,y:u.size[1]/2*o},p.attack=new l.d(u,d,h,p.pos),u=new l.e(a,[65,65],[0,130],n,t.i(i.a)([0,4]),!0),d={x:u.size[0]*o,y:u.size[1]*o},h={angle:p.angle,x:u.size[0]/2*o,y:u.size[1]/2*o},p.die=new l.d(u,d,h,p.pos),p}var l=t(0),i=t(1);r.a=s},function(e,r,t){"use strict";function s(e,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:15,n={};n.handgun=e.get("./img/survivor_handgun.png"),n.knife=e.get("./img/survivor_knife.png"),n.machinegun=e.get("./img/survivor_machinegun.png"),n.shotgun=e.get("./img/survivor_shotgun.png"),n.feet=e.get("./img/feet_survivor.png"),n.flash=e.get("./img/flash.png");var a={body:{handgun:{},knife:{},machinegun:{},shotgun:{}},feet:{},angle:[0],pos:{x:0,y:0},size:[260/3*s*r.screenSize,220/3*s*r.screenSize]},p=[["idle",[132,155],[0,0],[0]],["run",[204,124],[0,155],[0,19]],["left",[155,174],[0,279],[0,19]],["right",[154,176],[0,453],[0,19]],["walk",[172,124],[0,629],[0,19]]],u=["handgun","knife","machinegun","shotgun"],d={};d.handgun=[["idle",[253,216],[0,0],[0,9,1],97,120.5,!1,o],["meleeattack",[291,256],[0,216],[0,14],104,124.5,!0,o],["move",[258,220],[0,472],[0,9,1],102,119.5,!1,o],["reload",[260,230],[0,692],[0,14],101,119.5,!0,o],["shoot",[255,215],[0,922],[0,2],99,119.5,!0,o]],d.knife=[["idle",[289,224],[0,0],[0,19],107,113.5,!1,o],["meleeattack",[329,300],[0,224],[0,14],104,113.5,!0,o],["move",[279,219],[0,524],[0,19],107,112.5,!1,o]],d.machinegun=[["idle",[313,207],[0,0],[0,19],95,120.5,!1,o],["meleeattack",[358,353],[0,207],[0,14],115,201.5,!0,o],["move",[313,206],[0,560],[0,19],95,119.5,!1,o],["reload",[322,217],[0,766],[0,19],101,121.5,!0,o],["shoot",[312,206],[0,983],[0,2],94,119.5,!0,30]],d.shotgun=[["idle",[313,207],[0,0],[0,19],95,120.5,!1,o],["meleeattack",[358,353],[0,207],[0,14],115,201.5,!0,o],["move",[313,206],[0,560],[0,19],95,119.5,!1,o],["reload",[322,217],[0,766],[0,19],101,121.5,!0,o],["shoot",[312,206],[0,983],[0,2],94,119.5,!0,o]];for(var h=void 0,c=void 0,f=void 0,v=0;v<u.length;v++)for(var g=0;g<d[u[v]].length;g++)h=new l.e(n[u[v]],d[u[v]][g][1],d[u[v]][g][2],d[u[v]][g][7],t.i(i.a)(d[u[v]][g][3]),d[u[v]][g][6]),c={x:h.size[0]*s,y:h.size[1]*s},f={angle:a.angle,x:d[u[v]][g][4]*s,y:d[u[v]][g][5]*s},a.body[u[v]][d[u[v]][g][0]]=new l.d(h,c,f,a.pos);for(var y=0;y<p.length;y++)h=new l.e(n.feet,p[y][1],p[y][2],o,t.i(i.a)(p[y][3])),c={x:h.size[0]*s,y:h.size[1]*s},f={angle:a.angle,x:h.size[0]/2*s,y:h.size[1]/2*s},a.feet[p[y][0]]=new l.d(h,c,f,a.pos);return h=new l.e(n.flash,[177,153],[0,0],o,[1,0,1],!0),c={x:h.size[0]/2*s,y:h.size[1]/2*s},f={angle:a.angle,x:-133*s,y:-7*s},a.body.handgun.flash=new l.d(h,c,f,a.pos),h=new l.e(n.flash,[177,153],[0,0],30,[1,0,1],!0),c={x:h.size[0]/2*s,y:h.size[1]/2*s},f={angle:a.angle,x:-190*s,y:8*s},a.body.machinegun.flash=new l.d(h,c,f,a.pos),h=new l.e(n.flash,[177,153],[0,0],o,[1,0,1],!0),c={x:h.size[0]/2*s,y:h.size[1]/2*s},f={angle:a.angle,x:-190*s,y:8*s},a.body.shotgun.flash=new l.d(h,c,f,a.pos),a}var l=t(0),i=t(1);r.a=s},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t(3),l=t(0),i=t(2),o=t(4),n=new s.a,a=new l.a,p=new l.b,u=new l.c,d={};d.arsenal=["knife","handgun","shotgun","machinegun"],d.arsenalIndex=0,d.body=null,d.health=1e3,d.shoot=!1,d.meleeattack=!1,d.reload=!1,d.mel=0,d.bullet=0,d.bite=0,d.countBullet=440,d.clip=22,d.score=0,d.lastTime,d.x=0,d.y=0,d.a=0,d.b=0,d.screenSize=1,d.survivorAll,d.player=[],d.spidersAll=[],d.spiderScene=[],d.blood=[],d.floor,document.body.appendChild(u.domElement);var h=function(){a.start(),d.survivorAll=i.a(n,d),d.body=d.survivorAll.body[d.arsenal[d.arsenalIndex]],d.player.push(d.survivorAll.feet.idle),d.player.push(d.body.idle),d.floor=i.b(n),p.add(d.floor.arr);for(var e=0;e<400;e++){var r=i.c(n,d,"./img/spider_red.png",1.5,10);r.pos.x=4e4*Math.random()-2e4,r.pos.y=4e4*Math.random()-2e4,d.spidersAll.push(r),d.spiderScene.push(r.run)}p.add(d.blood),p.add(d.player),p.add(d.spiderScene),d.lastTime=Date.now(),c()},c=function e(){var r=Date.now(),t=(r-d.lastTime)/1e3;o.a(t,a,u,d),o.b(u,d),o.c(t,u,a,d),o.d(t,d),o.e(n,a,d),u.render(p,t,d.screenSize),o.f(u,d),d.lastTime=r,d.spidersAll.length&&d.health?requestAnimationFrame(e):d.health?(u.ctx.save(),u.ctx.fillStyle="rgba(0,0,0,0.8)",u.ctx.fillRect(0,0,u.width,u.height),u.ctx.restore(),u.ctx.font="100px serif",u.ctx.fillStyle="rgba(255,0,0,0.8)",u.ctx.fillText("WIN",u.width/2-100,u.height/2),u.ctx.font="65px serif",u.ctx.fillStyle="rgba(0,255,0,0.8)",u.ctx.fillText("SCORE "+d.score,u.width/2-110,u.height/2+100),u.ctx.font="45px serif",u.ctx.fillStyle="rgba(0,0,255,0.8)",u.ctx.fillText("Restart F5",u.width/2-100,u.height/2+200)):(u.ctx.save(),u.ctx.fillStyle="rgba(0,0,0,0.8)",u.ctx.fillRect(0,0,u.width,u.height),u.ctx.restore(),u.ctx.font="100px serif",u.ctx.fillStyle="rgba(255,0,0,0.8)",u.ctx.fillText("Game Over",u.width/2-200,u.height/2),u.ctx.font="65px serif",u.ctx.fillStyle="rgba(0,255,0,0.8)",u.ctx.fillText("SCORE "+d.score,u.width/2-110,u.height/2+100),u.ctx.font="45px serif",u.ctx.fillStyle="rgba(0,0,255,0.8)",u.ctx.fillText("Restart F5",u.width/2-100,u.height/2+200))},f=function(e){u.width=window.innerWidth,u.height=window.innerHeight,u.ctx.fillStyle="rgb(0,0,0)",u.ctx.fillRect(0,0,u.width,u.height),u.ctx.font="100px serif",u.ctx.fillStyle="rgba(255,0,0,0.8)",u.ctx.fillText(e+"%",u.width/2-100,u.height/2)};n.add(["./img/floortiles_drain.png","./img/floortiles.png"],["./img/feet_survivor.png","./img/survivor_handgun.png","./img/survivor_knife.png","./img/survivor_machinegun.png","./img/survivor_shotgun.png"],["./img/spider_red.png","./img/spider_black.png","./img/spider_black_red.png","./img/spider_blue.png","./img/spider_green.png","./img/spider_green_white_red.png","./img/spider_red_blue.png","./img/spider_silver.png","./img/spider_steel_yelow_orange.png"],["./img/flash.png","./img/arsenal.png","./img/cracks.png","./img/hearts.png"],["./img/blood_red.png"]).loaderStatus(f).callbac(h).start()},function(e,r,t){"use strict";function s(e,r){e.width=window.innerWidth,e.height=window.innerHeight,e.ctx.fillStyle="black",e.ctx.fillRect(0,0,e.width,e.height),r.floor.pos.x+=r.x,r.floor.pos.y+=r.y;for(var t=0,s=0;s<8;s++)for(var l=0;l<8;l++)r.floor.arr[t].pos.x=r.floor.pos.x+500*l,r.floor.arr[t].pos.y=r.floor.pos.y+500*s,t++}r.a=s},function(e,r,t){"use strict";function s(e,r,t,s){r.key[38]||r.key[87]?(s.floor.pos.y>=-50&&s.floor.pos.y<=0&&s.b>-t.height/2+50?s.b-=300*e:-s.floor.pos.y+t.height>=s.floor.size.y-50&&-s.floor.pos.y+t.height<=s.floor.size.y&&s.b>0?s.b-=300*e:s.floor.pos.y>=-50&&s.floor.pos.y<=0||(s.y+=300*e),s.survivorAll.angle[0]>Math.PI/4&&s.survivorAll.angle[0]<3*Math.PI/4||s.survivorAll.angle[0]<-Math.PI/4&&s.survivorAll.angle[0]>3*-Math.PI/4?s.player[0]=s.survivorAll.feet.walk:s.survivorAll.angle[0]<=Math.PI/4||s.survivorAll.angle[0]>=-Math.PI/4?s.player[0]=s.survivorAll.feet.left:(s.survivorAll.angle[0]>=3*Math.PI/4||s.survivorAll.angle[0]<=3*-Math.PI/4)&&(s.player[0]=s.survivorAll.feet.right)):(r.key[40]||r.key[83])&&(s.floor.pos.y>=-50&&s.floor.pos.y<=0&&s.b<0?s.b+=300*e:-s.floor.pos.y+t.height>=s.floor.size.y-50&&-s.floor.pos.y+t.height<=s.floor.size.y&&s.b<t.height/2-50?s.b+=300*e:-s.floor.pos.y+t.height>=s.floor.size.y-50&&-s.floor.pos.y+t.height<=s.floor.size.y||(s.y-=300*e),s.survivorAll.angle[0]>Math.PI/4&&s.survivorAll.angle[0]<3*Math.PI/4||s.survivorAll.angle[0]<-Math.PI/4&&s.survivorAll.angle[0]>3*-Math.PI/4?s.player[0]=s.survivorAll.feet.walk:s.survivorAll.angle[0]<=Math.PI/4||s.survivorAll.angle[0]>=-Math.PI/4?s.player[0]=s.survivorAll.feet.right:(s.survivorAll.angle[0]>=3*Math.PI/4||s.survivorAll.angle[0]<=3*-Math.PI/4)&&(s.player[0]=s.survivorAll.feet.left)),r.key[39]||r.key[68]?(s.floor.pos.x>=-50&&s.floor.pos.x<=0&&s.a<0?s.a+=300*e:-s.floor.pos.x+t.width>=s.floor.size.x-50&&-s.floor.pos.x+t.width<=s.floor.size.x&&s.a<t.width/2-50?s.a+=300*e:-s.floor.pos.x+t.width>=s.floor.size.x-50&&-s.floor.pos.x+t.width<=s.floor.size.x||(s.x-=300*e),s.survivorAll.angle[0]>Math.PI/4&&s.survivorAll.angle[0]<3*Math.PI/4?s.player[0]=s.survivorAll.feet.left:s.survivorAll.angle[0]<-Math.PI/4&&s.survivorAll.angle[0]>3*-Math.PI/4?s.player[0]=s.survivorAll.feet.right:(s.survivorAll.angle[0]<=Math.PI/4||s.survivorAll.angle[0]>=-Math.PI/4||s.survivorAll.angle[0]>=3*Math.PI/4||s.survivorAll.angle[0]<=3*-Math.PI/4)&&(s.player[0]=s.survivorAll.feet.walk)):(r.key[37]||r.key[65])&&(s.floor.pos.x>=-50&&s.floor.pos.x<=0&&s.a>-t.width/2+50?s.a-=300*e:-s.floor.pos.x+t.width>=s.floor.size.x-50&&-s.floor.pos.x+t.width<=s.floor.size.x&&s.a>0?s.a-=300*e:s.floor.pos.x>=-50&&s.floor.pos.x<=0||(s.x+=300*e),s.survivorAll.angle[0]>Math.PI/4&&s.survivorAll.angle[0]<3*Math.PI/4?s.player[0]=s.survivorAll.feet.right:s.survivorAll.angle[0]<-Math.PI/4&&s.survivorAll.angle[0]>3*-Math.PI/4?s.player[0]=s.survivorAll.feet.left:(s.survivorAll.angle[0]<=Math.PI/4||s.survivorAll.angle[0]>=-Math.PI/4||s.survivorAll.angle[0]>=3*Math.PI/4||s.survivorAll.angle[0]<=3*-Math.PI/4)&&(s.player[0]=s.survivorAll.feet.walk)),r.key[38]||r.key[87]||r.key[40]||r.key[83]||r.key[39]||r.key[68]||r.key[37]||r.key[65]?s.shoot||s.reload||s.meleeattack||(s.player[1]=s.body.move):(s.player[0]=s.survivorAll.feet.idle,s.shoot||s.reload||s.meleeattack||(s.player[1]=s.body.idle)),(r.key[69]||r.key[96])&&(s.shoot||s.reload||s.meleeattack||(s.meleeattack=!0,s.player[1]=s.body.meleeattack)),r.mouseLeft&&!s.shoot&&s.clip>0&&!s.reload&&!s.meleeattack&&("knife"==s.arsenal[s.arsenalIndex]?(s.meleeattack=!0,s.player[1]=s.body.meleeattack):(s.shoot=!0,s.player[1]=s.body.shoot,s.player[2]=s.body.flash)),r.wheel.up&&(r.wheel.up=!1,s.arsenalIndex=(s.arsenalIndex+1)%s.arsenal.length),r.wheel.down&&(r.wheel.down=!1,s.arsenalIndex=((s.arsenalIndex||s.arsenal.length)-1)%s.arsenal.length)}r.a=s},function(e,r,t){"use strict";function s(e,r){e.ctx.save(),e.ctx.font="48px serif",e.ctx.fillStyle="rgb("+(255-Math.floor(255*r.health/100))+",0,0)",e.ctx.fillText(""+r.health,10,50),e.ctx.restore(),e.ctx.save(),e.ctx.font="48px serif",e.ctx.fillStyle="rgba(0,0,0,0.9)",e.ctx.fillText(r.clip+" / "+r.countBullet,e.width-150,e.height-10),e.ctx.restore(),e.ctx.save(),e.ctx.font="48px serif",e.ctx.fillStyle="rgba(0,255,0,0.9)",e.ctx.fillText(""+r.score,e.width-150,50),e.ctx.restore()}r.a=s},function(e,r,t){"use strict";function s(e,r,t,s){for(var l=0;l<s.blood.length;l++)s.blood[l].pos.x+=s.x,s.blood[l].pos.y+=s.y;s.survivorAll.pos.x=r.width/2+s.a,s.survivorAll.pos.y=r.height/2+s.b,s.survivorAll.angle[0]=Math.atan2(t.mousemove.y-s.survivorAll.pos.y,t.mousemove.x-s.survivorAll.pos.x);for(var i=0;i<s.spidersAll.length;i++)s.spidersAll[i].attackBool?(s.spidersAll[i].pos.x+=s.x,s.spidersAll[i].pos.y+=s.y,s.spidersAll[i].angle[0]=Math.atan2(s.spidersAll[i].pos.y-s.survivorAll.pos.y,s.spidersAll[i].pos.x-s.survivorAll.pos.x)+Math.PI/2):s.spidersAll[i].dieBool?(s.spidersAll[i].pos.x+=s.x,s.spidersAll[i].pos.y+=s.y):(s.spidersAll[i].angle[0]=Math.atan2(s.spidersAll[i].pos.y-s.survivorAll.pos.y,s.spidersAll[i].pos.x-s.survivorAll.pos.x)+Math.PI/2,s.survivorAll.pos.x-s.spidersAll[i].pos.x<0?s.spidersAll[i].pos.x-=100*Math.abs(Math.cos(s.spidersAll[i].angle[0]-Math.PI/2))*e-s.x:s.spidersAll[i].pos.x+=100*Math.abs(Math.cos(s.spidersAll[i].angle[0]-Math.PI/2))*e+s.x,s.survivorAll.pos.y-s.spidersAll[i].pos.y<0?s.spidersAll[i].pos.y-=100*Math.abs(Math.sin(s.spidersAll[i].angle[0]-Math.PI/2))*e-s.y:s.spidersAll[i].pos.y+=100*Math.abs(Math.sin(s.spidersAll[i].angle[0]-Math.PI/2))*e+s.y);s.x=0,s.y=0}r.a=s},function(e,r,t){"use strict";function s(e,r){r.player[0].updateSprites(e),r.player[1].updateSprites(e),r.reload||r.meleeattack||r.shoot||(r.body=r.survivorAll.body[r.arsenal[r.arsenalIndex]],r.player[1]=r.body.idle),r.clip<1&&!r.reload&&r.countBullet&&(r.reload=!0,r.player[1]=r.body.reload,r.countBullet+=-22),r.meleeattack&&9==r.player[1].sprites.order&&r.mel++,r.player[1].sprites.lastOrder&&(r.player[1].sprites.lastOrder=!1,r.player[1].sprites._order=0,r.player[1]=r.body.idle,r.reload&&(r.clip=22),r.shoot=!1,r.meleeattack=!1,r.reload=!1,r.mel=0),r.player[2]&&(r.player[2].updateSprites(e),1==r.player[2].sprites.order&&r.bullet++,r.player[2].sprites.lastOrder&&(r.player[2].sprites.lastOrder=!1,r.player[2].sprites._order=0,r.player.pop(),r.bullet=0));for(var t=0;t<r.spiderScene.length;t++)r.spiderScene[t].updateSprites(e),r.spidersAll[t].attackBool&&(2==r.spiderScene[t].sprites.order&&r.bite++,r.spiderScene[t].sprites.lastOrder&&(r.spidersAll[t].attackBool=!1,r.spiderScene[t].sprites.lastOrder=!1,r.spiderScene[t].sprites._order=0,r.spiderScene[t]=r.spidersAll[t].run,r.bite=0)),r.spidersAll[t].dieBool&&r.spiderScene[t].sprites.lastOrder&&(r.spidersAll.splice(t,1),r.spiderScene.splice(t,1),t--)}r.a=s},function(e,r,t){"use strict";function s(e,r,t){function s(e,r,t,s,l,i,o,n){return!(e>=o||r>=n||t<=l||s<=i)}function i(e,r){return s(e.pos.x-e.size[0]/2,e.pos.y-e.size[1]/2,e.pos.x+e.size[0]/2,e.pos.y+e.size[1]/2,r.pos.x-e.size[1]/2,r.pos.y-r.size[1]/2,r.pos.x+r.size[0]/2,r.pos.y+r.size[1]/2)}for(var o=0;o<t.spidersAll.length;o++)!i(t.spidersAll[o],t.survivorAll)||t.spidersAll[o].attackBool||t.spidersAll[o].dieBool||(t.spidersAll[o].attackBool=!0,t.spiderScene[o]=t.spidersAll[o].attack);for(var n=0;n<t.spidersAll.length;n++)for(var a=1,p=n+1;p<t.spidersAll.length;p++){a++;for(var u=0;i(t.spidersAll[n],t.spidersAll[p])&&u++<4;)a%2==0?t.spidersAll[n].pos.y>t.spidersAll[p].pos.y?(++t.spidersAll[n].pos.y,--t.spidersAll[p].pos.y):(--t.spidersAll[n].pos.y,++t.spidersAll[p].pos.y):t.spidersAll[n].pos.x>t.spidersAll[p].pos.x?(++t.spidersAll[n].pos.x,--t.spidersAll[p].pos.x):(--t.spidersAll[n].pos.x,++t.spidersAll[p].pos.x)}if(1===t.bullet&&t.clip>0){t.bullet++,t.clip--;for(var d="shotgun"==t.arsenal[t.arsenalIndex]?0:7;d<8;d++){var h=!0,c=r.mousemove.x,f=r.mousemove.y,v=Math.atan2(f-t.survivorAll.pos.y,c-t.survivorAll.pos.x),g={};g.x=t.survivorAll.pos.x,g.y=t.survivorAll.pos.y,"shotgun"==t.arsenal[t.arsenalIndex]&&(c+=120*Math.random()-60,f+=120*Math.random()-60,v=Math.atan2(f-g.y,c-g.x));for(var y=c>t.survivorAll.pos.x,x=f>t.survivorAll.pos.y;h;){if(y){if(g.x>c)break}else if(g.x<c)break;if(x){if(g.y>f)break}else if(g.y<f)break;for(var A=0;A<t.spidersAll.length;A++)if(i(t.spidersAll[A],{pos:{x:g.x,y:g.y},size:[0,0]})&&!t.spidersAll[A].dieBool){t.score+=100,t.spidersAll[A].attackBool=!1,t.spidersAll[A].dieBool=!0,t.spiderScene[A]=t.spidersAll[A].die,t.blood.push(new l.d(new l.e(e.get("./img/blood_red.png"),[256,256],[0,0],0,[0]),{x:60,y:60},{angle:t.spidersAll[A].angle[0],x:30,y:30},{x:t.spidersAll[A].pos.x,y:t.spidersAll[A].pos.y})),h=!1;break}g.x+=Math.cos(v)*(30*Math.random()+20)*t.screenSize,g.y+=Math.sin(v)*(30*Math.random()+20)*t.screenSize}h&&(t.score--,t.blood.push(new l.d(new l.e(e.get("./img/cracks.png"),[256,256],[0,0],0,[0]),{x:30,y:30},{angle:0,x:15,y:15},{x:g.x,y:g.y})))}}if(1==t.bite&&(t.health-=5),1==t.mel)for(var m=new Array(3).fill(0).map(function(){return{pos:{x:t.survivorAll.pos.x,y:t.survivorAll.pos.y},size:[0,0]}}),b=0;b<3;b++)for(var w=0;w<3;w++){m[w].pos.x+=30*Math.cos(t.survivorAll.angle[0]-Math.PI/4+Math.PI*w/4)*t.screenSize,m[w].pos.y+=30*Math.sin(t.survivorAll.angle[0]-Math.PI/4+Math.PI*w/4)*t.screenSize;for(var k=0;k<t.spidersAll.length;k++)i(t.spidersAll[k],m[w])&&!t.spidersAll[k].dieBool&&(t.score+=100,t.spidersAll[k].attackBool=!1,t.spidersAll[k].dieBool=!0,t.spiderScene[k]=t.spidersAll[k].die,t.blood.push(new l.d(new l.e(e.get("./img/blood_red.png"),[256,256],[0,0],0,[0]),{x:60,y:60},{angle:t.spidersAll[k].angle[0],x:30,y:30},{x:t.spidersAll[k].pos.x,y:t.spidersAll[k].pos.y})))}}var l=t(0);r.a=s}]);