!function(e){function s(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,s),i.l=!0,i.exports}var t={};s.m=e,s.c=t,s.i=function(e){return e},s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},s.p="",s(s.s=10)}([function(e,s,t){"use strict";function r(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}t.d(s,"e",function(){return o}),t.d(s,"d",function(){return a}),t.d(s,"b",function(){return n}),t.d(s,"c",function(){return l}),t.d(s,"a",function(){return p});var i=function(){function e(e,s){for(var t=0;t<s.length;t++){var r=s[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(s,t,r){return t&&e(s.prototype,t),r&&e(s,r),s}}(),o=function e(s){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0],n=arguments.length>5&&void 0!==arguments[5]&&arguments[5];r(this,e),this.img=s,this.size=t,this.pos=i,this.speed=o,this.stills=a,this.noRepeat=n,this._order=0,this.order=0,this.lastOrder=!1},a=function(){function e(s,t,i,o){r(this,e),this.pos=o||{x:0,y:0},this.sprites=s,this.rotate=i||{angle:[0],x:0,y:0},this.size=t||{x:this.sprites.size[0],y:this.sprites.size[1]}}return i(e,[{key:"updateSprites",value:function(e){this.sprites._order+=this.sprites.speed*e,this.sprites.order=Math.floor(this.sprites._order)%this.sprites.stills.length,this.sprites.noRepeat&&Math.floor(this.sprites._order)>this.sprites.stills.length-1&&(this.sprites.lastOrder=!0)}}]),e}(),n=function(){function e(){r(this,e),this.arr=[]}return i(e,[{key:"add",value:function(e){this.arr.push(e)}},{key:"getEntities",value:function(){for(var e=[],s=0;s<this.arr.length;s++)Array.isArray(this.arr[s])?e=e.concat(this.arr[s]):e.push(this.arr[s]);return e}}]),e}(),l=function(){function e(){r(this,e),this.domElement=document.createElement("canvas"),this.ctx=this.domElement.getContext("2d")}return i(e,[{key:"render",value:function(e,s){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e.getEntities(),i=0;i<r.length;i++)if(r[i]){var o=r[i].sprites.stills[r[i].sprites.order];this.ctx.save(),this.ctx.translate(r[i].pos.x,r[i].pos.y),this.ctx.rotate(r[i].rotate.angle[0]),this.ctx.drawImage(Array.isArray(r[i].sprites.img)?r[i].sprites.img[o]:r[i].sprites.img,Array.isArray(r[i].sprites.img)?r[i].sprites.pos[0]:r[i].sprites.pos[0]+o*r[i].sprites.size[0],r[i].sprites.pos[1],r[i].sprites.size[0],r[i].sprites.size[1],-r[i].rotate.x*t,-r[i].rotate.y*t,r[i].size.x*t,r[i].size.y*t),this.ctx.restore()}}},{key:"width",set:function(e){this.domElement.width=e},get:function(){return this.domElement.width}},{key:"height",set:function(e){this.domElement.height=e},get:function(){return this.domElement.height}}]),e}(),p=function(){function e(){r(this,e),this.mousemove={x:0,y:0},this.mouseLeft=!1,this.mouseRight=!1,this.wheel={up:!1,down:!1},this.key={},this.blur=!1}return i(e,[{key:"start",value:function(){var e=this;document.addEventListener("mousedown",function(s){1==s.which&&(e.mouseLeft=!0),3==s.which&&(e.mouseRight=!0)}),document.addEventListener("mouseup",function(s){1==s.which&&(e.mouseLeft=!1),3==s.which&&(e.mouseRight=!1)}),document.oncontextmenu=function(){return!1},document.addEventListener("mousemove",function(s){e.mousemove.x=s.clientX,e.mousemove.y=s.clientY}),document.addEventListener("keydown",function(s){e.key[s.keyCode]=!0}),document.addEventListener("keyup",function(s){49==s.keyCode||50==s.keyCode||51==s.keyCode||52==s.keyCode||27==s.keyCode||(e.key[s.keyCode]=!1)}),document.addEventListener("wheel",function(s){120==s.wheelDelta&&(e.wheel={up:!0,down:!1}),-120==s.wheelDelta&&(e.wheel={up:!1,down:!0})}),window.addEventListener("blur",function(){e.blur=!0,e.mousemove={x:0,y:0},e.mouseLeft=!1,e.mouseRight=!1,e.wheel={up:!1,down:!1},e.key={}})}}]),e}()},function(e,s,t){"use strict";var r=t(9),i=t(8),o=t(5),a=t(7),n=t(6);t.d(s,"c",function(){return r.a}),t.d(s,"e",function(){return i.a}),t.d(s,"b",function(){return o.a}),t.d(s,"d",function(){return a.a}),t.d(s,"a",function(){return n.a})},function(e,s,t){"use strict";var r=t(14),i=t(12),o=t(13),a=t(15),n=t(17),l=t(19),p=t(18),d=t(16),h=t(11);t.d(s,"g",function(){return r.a}),t.d(s,"a",function(){return o.a}),t.d(s,"b",function(){return i.a}),t.d(s,"c",function(){return a.a}),t.d(s,"d",function(){return n.a}),t.d(s,"e",function(){return l.a}),t.d(s,"h",function(){return p.a}),t.d(s,"f",function(){return d.a}),t.d(s,"i",function(){return h.a})},function(e,s,t){"use strict";function r(e){var s=[e[0]];if(2==e.length||3==e.length)for(var t=++e[0];t<=e[1];t++)s.push(t);if(3==e.length)for(var r=--e[1];r>=e[2];r--)s.push(r);return s}s.a=r},function(e,s,t){"use strict";function r(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,s){for(var t=0;t<s.length;t++){var r=s[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(s,t,r){return t&&e(s.prototype,t),r&&e(s,r),s}}(),o=function(){function e(){r(this,e),this.loaderStatusArr=[],this.resourcesArr=[],this.resourcesObj={},this.callbackArr=[]}return i(e,[{key:"loaderStatus",value:function(e){return this.loaderStatusArr.push(e),this}},{key:"callbac",value:function(e){return this.callbackArr.push(e),this}},{key:"add",value:function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];for(var r=0;r<s.length;r++)Array.isArray(s[r])?this.resourcesArr=this.resourcesArr.concat(s[r]):this.resourcesArr.push(s[r]);return this}},{key:"start",value:function(){for(var e=function(e){if(/\.png$/i.test(e)){var t=new Image;t.onload=function(){this.resourcesObj[e]=t;var r=s();this.loaderStatusArr.forEach(function(e){e(r)}),100==r&&this.callbackArr.forEach(function(e){e()})}.bind(this),this.resourcesObj[e]=null,t.src=e}if(/\.wav$/i.test(e)||/\.mp3$/i.test(e)||/\.ogg$/i.test(e)||/\.flac$/i.test(e)){var r=new Audio;r.onloadedmetadata=function(){this.resourcesObj[e]=r;var t=s();this.loaderStatusArr.forEach(function(e){e(t)}),100==t&&this.callbackArr.forEach(function(e){e()})}.bind(this),this.resourcesObj[e]=null,r.src=e}}.bind(this),s=function(){var e=0,s=0;for(var t in this.resourcesObj)this.resourcesObj.hasOwnProperty(t)&&this.resourcesObj[t]&&e++,s++;return Math.floor(e/s*100)}.bind(this);this.resourcesArr.length;){var t=this.resourcesArr.pop();this.resourcesObj.hasOwnProperty(t)||e(t)}}},{key:"get",value:function(e){return this.resourcesObj[e]}},{key:"getNewAudio",value:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(/\.wav$/i.test(e)||/\.mp3$/i.test(e)||/\.ogg$/i.test(e)||/\.flac$/i.test(e)){var i=new Audio;return i.onloadedmetadata=function(){r&&i.play()},i.loop=t,i.volume=s,i.src=e,i}}}]),e}();s.a=o},function(e,s,t){"use strict";function r(e){for(var s={size:{x:4e3,y:4e3},pos:{x:-1e3,y:-1e3},arr:[]},t={x:500,y:500},r=0;r<64;r++)s.arr.push(new i.d(new i.e(e.get("./img/floortiles.png"),[512,512],[0,0],0,[0]),t));for(var o=0;o<10;o++)s.arr[Math.floor(Math.random()*s.arr.length)]=new i.d(new i.e(e.get("./img/floortiles_drain.png"),[512,512],[0,0],0,[0]),t);return s}var i=t(0);s.a=r},function(e,s,t){"use strict";function r(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}var i=function e(){r(this,e),this.arsenal=["knife","handgun","machinegun","shotgun"],this.knife=!0,this.handgun=!1,this.machinegun=!1,this.shotgun=!1,this.isHandgun=!0,this.isMachinegun=!0,this.isShotgun=!0,this.arsenalIndex=0,this.body=null,this.health=100,this.shoot=!1,this.meleeattack=!1,this.reload=!1,this.move=!1,this.next=!1,this.mel=0,this.bullet=0,this.bite=0,this.countBullet=0,this.clip=0,this.cntBullet={},this.clp={},this.cntBullet.knife=0,this.clp.knife=0,this.cntBullet.handgun=80,this.clp.handgun=8,this.cntBullet.shotgun=80,this.clp.shotgun=10,this.cntBullet.machinegun=320,this.clp.machinegun=32,this.score=0,this.lastTime,this.totalTime=0,this.x=0,this.y=0,this.a=0,this.b=0,this.screenSize=1,this.survivorAll,this.player=[],this.spidersAll=[],this.spiderScene=[],this.blood=[],this.box=[],this.floor,this.menu,this.spiders={red:!0,black:!0,green_white_red:!0,blue:!0,black_red:!0,green:!0,red_blue:!0,silver:!0,steel_yelow_orange:!0},this.win=!1,this.pause=!1,this.fps=0,this.start=!1,this.end=!1};s.a=i},function(e,s,t){"use strict";function r(e){var s={bullet:{},gun:{}};s.heart=new i.d(new i.e(e.get("./img/hearts.png"),[64,64]),{x:32,y:32},{angle:[0],x:16,y:16},{x:110,y:35});for(var t=0;t<o.length;t++)s.bullet[o[t].name]=new i.d(new i.e(e.get(o[t].img),o[t].spriteSize,o[t].spritePos),o[t].size,o[t].rotate,o[t].pos);for(var r=0;r<a.length;r++)s.gun[a[r].name]=new i.d(new i.e(e.get(a[r].img),a[r].spriteSize,a[r].spritePos),a[r].size,a[r].rotate,a[r].pos);return s.array=[s.heart],s}var i=t(0);s.a=r;var o=[{name:"handgun",img:"./img/bullet_icon.png",spriteSize:[50,118],spritePos:[50,108],size:{x:12.5,y:29.5},rotate:{angle:[0],x:6.25,y:14.75},pos:{x:0,y:0}},{name:"machinegun",img:"./img/bullet_icon.png",spriteSize:[50,226],spritePos:[206,0],size:{x:12.5,y:56.5},rotate:{angle:[0],x:6.25,y:28.25},pos:{x:0,y:0}},{name:"shotgun",img:"./img/bullet_icon.png",spriteSize:[50,118],spritePos:[0,108],size:{x:12.5,y:29.5},rotate:{angle:[0],x:6.25,y:14.75},pos:{x:0,y:0}}],a=[{name:"knife",img:"./img/arsenal.png",spriteSize:[96,32],spritePos:[0,0],size:{x:96,y:32},rotate:{angle:[0],x:0,y:0},pos:{x:0,y:0}},{name:"handgun",img:"./img/arsenal.png",spriteSize:[96,32],spritePos:[96,0],size:{x:96,y:32},rotate:{angle:[0],x:0,y:0},pos:{x:0,y:0}},{name:"machinegun",img:"./img/arsenal.png",spriteSize:[256,32],spritePos:[0,32],size:{x:256/1.5,y:32/1.5},rotate:{angle:[0],x:0,y:0},pos:{x:0,y:0}},{name:"shotgun",img:"./img/arsenal.png",spriteSize:[256,32],spritePos:[0,64],size:{x:256/1.5,y:32/1.5},rotate:{angle:[0],x:0,y:0},pos:{x:0,y:0}}]},function(e,s,t){"use strict";function r(e,s,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,p=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,d=e.get(r),h={angle:[0],pos:{x:0,y:0},attackBool:!1,dieBool:!1,health:l,speed:p,size:[32.5*a*s.screenSize,32.5*a*s.screenSize]},u=void 0,c=void 0,g=void 0;return u=new i.e(d,[65,65],[0,0],n,t.i(o.a)([0,5])),c={x:u.size[0]*a,y:u.size[1]*a},g={angle:h.angle,x:u.size[0]/2*a,y:u.size[1]/2*a},h.run=new i.d(u,c,g,h.pos),u=new i.e(d,[65,65],[0,65],n,t.i(o.a)([0,3]),!0),c={x:u.size[0]*a,y:u.size[1]*a},g={angle:h.angle,x:u.size[0]/2*a,y:u.size[1]/2*a},h.attack=new i.d(u,c,g,h.pos),u=new i.e(d,[65,65],[0,130],n,t.i(o.a)([0,4]),!0),c={x:u.size[0]*a,y:u.size[1]*a},g={angle:h.angle,x:u.size[0]/2*a,y:u.size[1]/2*a},h.die=new i.d(u,c,g,h.pos),h}var i=t(0),o=t(3);s.a=r},function(e,s,t){"use strict";function r(e,s){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:15,n={};n.handgun=e.get("./img/survivor_handgun.png"),n.knife=e.get("./img/survivor_knife.png"),n.machinegun=e.get("./img/survivor_machinegun.png"),n.shotgun=e.get("./img/survivor_shotgun.png"),n.feet=e.get("./img/feet_survivor.png"),n.flash=e.get("./img/flash.png");var l={body:{handgun:{},knife:{},machinegun:{},shotgun:{}},feet:{},angle:[0],pos:{x:0,y:0},size:[130*r*s.screenSize,220*r*s.screenSize]},p=[["idle",[132,155],[0,0],[0]],["run",[204,124],[0,155],[0,19]],["left",[155,174],[0,279],[0,19]],["right",[154,176],[0,453],[0,19]],["walk",[172,124],[0,629],[0,19]]],d=["handgun","knife","machinegun","shotgun"],h={};h.handgun=[["idle",[253,216],[0,0],[0,9,1],97,120.5,!1,a],["meleeattack",[291,256],[0,216],[0,14],104,124.5,!0,a],["move",[258,220],[0,472],[0,9,1],102,119.5,!1,a],["reload",[260,230],[0,692],[0,14],101,119.5,!0,a],["shoot",[255,215],[0,922],[0,2],99,119.5,!0,a]],h.knife=[["idle",[289,224],[0,0],[0,19],107,113.5,!1,a],["meleeattack",[329,300],[0,224],[0,14],104,113.5,!0,a],["move",[279,219],[0,524],[0,19],107,112.5,!1,a]],h.machinegun=[["idle",[313,207],[0,0],[0,19],95,120.5,!1,a],["meleeattack",[358,353],[0,207],[0,14],115,201.5,!0,a],["move",[313,206],[0,560],[0,19],95,119.5,!1,a],["reload",[322,217],[0,766],[0,19],101,121.5,!0,a],["shoot",[312,206],[0,983],[0,2],94,119.5,!0,30]],h.shotgun=[["idle",[313,207],[0,0],[0,19],95,120.5,!1,a],["meleeattack",[358,353],[0,207],[0,14],115,201.5,!0,a],["move",[313,206],[0,560],[0,19],95,119.5,!1,a],["reload",[322,217],[0,766],[0,19],101,121.5,!0,a],["shoot",[312,206],[0,983],[0,2],94,119.5,!0,a]];for(var u=void 0,c=void 0,g=void 0,m=0;m<d.length;m++)for(var y=0;y<h[d[m]].length;y++)u=new i.e(n[d[m]],h[d[m]][y][1],h[d[m]][y][2],h[d[m]][y][7],t.i(o.a)(h[d[m]][y][3]),h[d[m]][y][6]),c={x:u.size[0]*r,y:u.size[1]*r},g={angle:l.angle,x:h[d[m]][y][4]*r,y:h[d[m]][y][5]*r},l.body[d[m]][h[d[m]][y][0]]=new i.d(u,c,g,l.pos);for(var f=0;f<p.length;f++)u=new i.e(n.feet,p[f][1],p[f][2],a,t.i(o.a)(p[f][3])),c={x:u.size[0]*r,y:u.size[1]*r},g={angle:l.angle,x:u.size[0]/2*r,y:u.size[1]/2*r},l.feet[p[f][0]]=new i.d(u,c,g,l.pos);return u=new i.e(n.flash,[177,153],[0,0],a,[1,0,1],!0),c={x:u.size[0]/2*r,y:u.size[1]/2*r},g={angle:l.angle,x:-133*r,y:-7*r},l.body.handgun.flash=new i.d(u,c,g,l.pos),u=new i.e(n.flash,[177,153],[0,0],30,[1,0,1],!0),c={x:u.size[0]/2*r,y:u.size[1]/2*r},g={angle:l.angle,x:-190*r,y:8*r},l.body.machinegun.flash=new i.d(u,c,g,l.pos),u=new i.e(n.flash,[177,153],[0,0],a,[1,0,1],!0),c={x:u.size[0]/2*r,y:u.size[1]/2*r},g={angle:l.angle,x:-190*r,y:8*r},l.body.shotgun.flash=new i.d(u,c,g,l.pos),l}var i=t(0),o=t(3);s.a=r},function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r=t(4),i=t(0),o=t(1),a=t(2),n=new r.a,l=new i.a,p=new i.b,d=new i.c,h=new o.a;document.body.appendChild(d.domElement);var u={};u.wrap=document.querySelector(".wrap"),u.state=document.querySelector(".state"),u.score=document.querySelector(".score"),u.idScore=document.getElementById("score"),u.start=document.querySelector(".start"),u.start.addEventListener("click",function(){u.start.hidden=!0,u.continue.hidden=!1,u.restart.hidden=!1,u.wrap.hidden=!0,h.start=!0,n.start()}),u.continue=document.querySelector(".continue"),u.continue.addEventListener("click",function(){h.lastTime=Date.now(),u.wrap.hidden=!0,h.pause=!1,l.blur=!1,l.key[27]=!1,h.audioFon.play(),requestAnimationFrame(y)}),u.restart=document.querySelector(".restart"),u.restart.addEventListener("click",function(){u.state.hidden=!0,u.score.hidden=!0,u.continue.hidden=!1,u.wrap.hidden=!0,p.arr=[],h=new o.a,h.start=!0,h.pause=!1,l.blur=!1,c()}),u.fullscreen=document.querySelector(".fullscreen"),u.fullscreen.addEventListener("click",function(){document.documentElement.msRequestFullScreen&&document.body.msRequestFullScreen(),document.documentElement.requestFullScreen&&document.body.requestFullScreen(),document.documentElement.webkitRequestFullScreen&&document.body.webkitRequestFullScreen(),h.start&&!h.end&&(h.lastTime=Date.now(),u.wrap.hidden=!0,h.pause=!1,l.blur=!1,h.audioFon.play(),requestAnimationFrame(y))});var c=function(){l.start(),h.floor=o.b(n),p.add(h.floor.arr),p.add(h.blood),h.survivorAll=o.c(n,h),h.body=h.survivorAll.body[h.arsenal[h.arsenalIndex]],h.player.push(h.survivorAll.feet.idle),h.player.push(h.body.idle),p.add(h.player),p.add(h.spiderScene),p.add(h.box),h.menu=o.d(n),p.add(h.menu.array),h.lastTime=Date.now(),h.audioFon=n.get("./audio/fon.ogg"),h.audioFon.volume=.5,h.audioFon.loop=!0,h.audioFon.play(),y()},g=0,m=0,y=function e(){var s=Date.now(),t=(s-h.lastTime)/1e3;h.totalTime+=t,g+=t,m++,g>1&&(h.fps=m,g=0,m=0),a.a(t,l,d,h,n),a.b(d,h),a.c(t,d,l,h),a.d(t,h,n),a.e(n,l,h),a.f(n,d,h),d.render(p,t,h.screenSize),a.g(d,h),h.lastTime=s,a.h(d,h,u,n)&&requestAnimationFrame(e)},f=function(e){d.width=window.innerWidth,d.height=window.innerHeight,d.ctx.fillStyle="rgb(0,0,0)",d.ctx.fillRect(0,0,d.width,d.height),d.ctx.font="100px serif",d.ctx.fillStyle="rgba(255,0,0,0.8)",d.ctx.fillText(e+"%",d.width/2-100,d.height/2)};n.add(["./img/floortiles_drain.png","./img/floortiles.png"],["./img/feet_survivor.png","./img/survivor_handgun.png","./img/survivor_knife.png","./img/survivor_machinegun.png","./img/survivor_shotgun.png"],["./img/spider_red.png","./img/spider_black.png","./img/spider_black_red.png","./img/spider_blue.png","./img/spider_green.png","./img/spider_green_white_red.png","./img/spider_red_blue.png","./img/spider_silver.png","./img/spider_steel_yelow_orange.png"],["./img/flash.png","./img/arsenal.png","./img/cracks.png","./img/hearts.png","./img/bullet_icon.png","./img/firstAidKit.png"],["./img/blood_green.png","./img/blood_green_small.png","./img/blood_red.png"],["./audio/spiderChattering.wav","./audio/spider_die.wav","./audio/shotgun.wav","./audio/run.wav","./audio/reload.wav","./audio/meleeattack.wav","./audio/machinegun.wav","./audio/knife.wav","./audio/insectoralien.wav","./audio/handgun.wav","./audio/fon.ogg","./audio/check.wav","./audio/box.wav"]).loaderStatus(f).callbac(c)},function(e,s,t){"use strict";function r(e,s,t,r){if(r.totalTime>10&&r.isHandgun){r.isHandgun=!1;var o=new i.d(new i.e(s.get("./img/arsenal.png"),[96,32],[96,0],0,[0]),{x:96,y:32},{angle:[Math.random()*(Math.PI- -Math.PI)-Math.PI],x:48,y:16},{x:r.spidersAll[e].pos.x,y:r.spidersAll[e].pos.y});return o.fun=function(){return r.handgun=!0,t.key[50]=!0,!0},void r.box.push(o)}if(r.totalTime>60&&r.isMachinegun){r.isMachinegun=!1;var n=new i.d(new i.e(s.get("./img/arsenal.png"),[256,32],[0,32],0,[0]),{x:128,y:16},{angle:[Math.random()*(Math.PI- -Math.PI)-Math.PI],x:64,y:8},{x:r.spidersAll[e].pos.x,y:r.spidersAll[e].pos.y});return n.fun=function(){return r.machinegun=!0,t.key[51]=!0,!0},void r.box.push(n)}if(r.totalTime>120&&r.isShotgun){r.isShotgun=!1;var l=new i.d(new i.e(s.get("./img/arsenal.png"),[256,32],[0,64],0,[0]),{x:128,y:16},{angle:[Math.random()*(Math.PI- -Math.PI)-Math.PI],x:64,y:8},{x:r.spidersAll[e].pos.x,y:r.spidersAll[e].pos.y});return l.fun=function(){return r.shotgun=!0,t.key[52]=!0,!0},void r.box.push(l)}if(Math.random()<.3){var p=Math.floor(Math.random()*a.length),d=new i.d(new i.e(s.get(a[p].img),a[p].spriteSize,a[p].spritePos,0,[0]),a[p].size,{angle:[Math.random()*(Math.PI- -Math.PI)-Math.PI],x:a[p].rotate.x,y:a[p].rotate.y},{x:r.spidersAll[e].pos.x,y:r.spidersAll[e].pos.y});return d.fun=a[p].fun.bind(r),void r.box.push(d)}}var i=t(0);s.a=r;var o={};o.handgun={img:"./img/bullet_icon.png",spriteSize:[50,118],spritePos:[50,108],size:{x:12.5,y:29.5},rotate:{x:6.25,y:14.75},fun:function(){return this.cntBullet.handgun+=16,"handgun"==this.arsenal[this.arsenalIndex]&&(this.countBullet+=16),!0}},o.machinegun={img:"./img/bullet_icon.png",spriteSize:[50,226],spritePos:[206,0],size:{x:12.5,y:56.5},rotate:{x:6.25,y:28.25},fun:function(){return this.cntBullet.machinegun+=32,"machinegun"==this.arsenal[this.arsenalIndex]&&(this.countBullet+=32),!0}},o.shotgun={img:"./img/bullet_icon.png",spriteSize:[50,118],spritePos:[0,108],size:{x:12.5,y:29.5},rotate:{x:6.25,y:14.75},fun:function(){return this.cntBullet.shotgun+=10,"shotgun"==this.arsenal[this.arsenalIndex]&&(this.countBullet+=10),!0}},o.healthSmall={img:"./img/firstAidKit.png",spriteSize:[240,240],spritePos:[5,5],size:{x:40,y:40},rotate:{x:20,y:20},fun:function(){return 100!=this.health&&(this.health=this.health+10>100?100:this.health+10,!0)}},o.healthBig={img:"./img/firstAidKit.png",spriteSize:[250,250],spritePos:[250,0],size:{x:50,y:50},rotate:{x:25,y:25},fun:function(){return 100!=this.health&&(this.health=this.health+30>100?100:this.health+30,!0)}};var a=[];a.push(o.healthSmall),a.push(o.healthBig),a.push(o.handgun),a.push(o.machinegun),a.push(o.shotgun)},function(e,s,t){"use strict";function r(e,s){e.width=window.innerWidth,e.height=window.innerHeight,e.ctx.fillStyle="black",e.ctx.fillRect(0,0,e.width,e.height),s.floor.pos.x+=s.x,s.floor.pos.y+=s.y;for(var t=0,r=0;r<8;r++)for(var i=0;i<8;i++)s.floor.arr[t].pos.x=s.floor.pos.x+500*i,s.floor.arr[t].pos.y=s.floor.pos.y+500*r,t++;if(s.blood.length>1e3)for(var o=0,a=0;a<s.blood.length&&!((s.blood[a].pos.x<0||s.blood[a].pos.x>e.width||s.blood[a].pos.y<0||s.blood[a].pos.y>e.height)&&(s.blood.splice(a,1),++o>100));a++);}s.a=r},function(e,s,t){"use strict";function r(e,s,t,r,i){if(!s.mouseLeft||r.shoot||!(r.clip>0||"knife"==r.arsenal[r.arsenalIndex])||r.reload||r.meleeattack?!s.mouseLeft||r.reload||"knife"==r.arsenal[r.arsenalIndex]||r.shoot||i.get("./audio/check.wav").play():"knife"==r.arsenal[r.arsenalIndex]?(r.meleeattack=!0,r.player[1]=r.body.meleeattack):(r.shoot=!0,r.player[1]=r.body.shoot,r.player[2]=r.body.flash),s.key[38]||s.key[87]?(r.floor.pos.y>=-50&&r.floor.pos.y<=0&&r.b>-t.height/2+50?r.b-=300*e:-r.floor.pos.y+t.height>=r.floor.size.y-50&&-r.floor.pos.y+t.height<=r.floor.size.y&&r.b>0?r.b-=300*e:r.floor.pos.y>=-50&&r.floor.pos.y<=0||(r.y+=300*e),r.survivorAll.angle[0]>Math.PI/4&&r.survivorAll.angle[0]<3*Math.PI/4||r.survivorAll.angle[0]<-Math.PI/4&&r.survivorAll.angle[0]>3*-Math.PI/4?r.player[0]=r.survivorAll.feet.walk:r.survivorAll.angle[0]<=Math.PI/4||r.survivorAll.angle[0]>=-Math.PI/4?r.player[0]=r.survivorAll.feet.left:(r.survivorAll.angle[0]>=3*Math.PI/4||r.survivorAll.angle[0]<=3*-Math.PI/4)&&(r.player[0]=r.survivorAll.feet.right)):(s.key[40]||s.key[83])&&(r.floor.pos.y>=-50&&r.floor.pos.y<=0&&r.b<0?r.b+=300*e:-r.floor.pos.y+t.height>=r.floor.size.y-50&&-r.floor.pos.y+t.height<=r.floor.size.y&&r.b<t.height/2-50?r.b+=300*e:-r.floor.pos.y+t.height>=r.floor.size.y-50&&-r.floor.pos.y+t.height<=r.floor.size.y||(r.y-=300*e),r.survivorAll.angle[0]>Math.PI/4&&r.survivorAll.angle[0]<3*Math.PI/4||r.survivorAll.angle[0]<-Math.PI/4&&r.survivorAll.angle[0]>3*-Math.PI/4?r.player[0]=r.survivorAll.feet.walk:r.survivorAll.angle[0]<=Math.PI/4||r.survivorAll.angle[0]>=-Math.PI/4?r.player[0]=r.survivorAll.feet.right:(r.survivorAll.angle[0]>=3*Math.PI/4||r.survivorAll.angle[0]<=3*-Math.PI/4)&&(r.player[0]=r.survivorAll.feet.left)),s.key[39]||s.key[68]?(r.floor.pos.x>=-50&&r.floor.pos.x<=0&&r.a<0?r.a+=300*e:-r.floor.pos.x+t.width>=r.floor.size.x-50&&-r.floor.pos.x+t.width<=r.floor.size.x&&r.a<t.width/2-50?r.a+=300*e:-r.floor.pos.x+t.width>=r.floor.size.x-50&&-r.floor.pos.x+t.width<=r.floor.size.x||(r.x-=300*e),r.survivorAll.angle[0]>Math.PI/4&&r.survivorAll.angle[0]<3*Math.PI/4?r.player[0]=r.survivorAll.feet.left:r.survivorAll.angle[0]<-Math.PI/4&&r.survivorAll.angle[0]>3*-Math.PI/4?r.player[0]=r.survivorAll.feet.right:(r.survivorAll.angle[0]<=Math.PI/4||r.survivorAll.angle[0]>=-Math.PI/4||r.survivorAll.angle[0]>=3*Math.PI/4||r.survivorAll.angle[0]<=3*-Math.PI/4)&&(r.player[0]=r.survivorAll.feet.walk)):(s.key[37]||s.key[65])&&(r.floor.pos.x>=-50&&r.floor.pos.x<=0&&r.a>-t.width/2+50?r.a-=300*e:-r.floor.pos.x+t.width>=r.floor.size.x-50&&-r.floor.pos.x+t.width<=r.floor.size.x&&r.a>0?r.a-=300*e:r.floor.pos.x>=-50&&r.floor.pos.x<=0||(r.x+=300*e),r.survivorAll.angle[0]>Math.PI/4&&r.survivorAll.angle[0]<3*Math.PI/4?r.player[0]=r.survivorAll.feet.right:r.survivorAll.angle[0]<-Math.PI/4&&r.survivorAll.angle[0]>3*-Math.PI/4?r.player[0]=r.survivorAll.feet.left:(r.survivorAll.angle[0]<=Math.PI/4||r.survivorAll.angle[0]>=-Math.PI/4||r.survivorAll.angle[0]>=3*Math.PI/4||r.survivorAll.angle[0]<=3*-Math.PI/4)&&(r.player[0]=r.survivorAll.feet.walk)),s.key[38]||s.key[87]||s.key[40]||s.key[83]||s.key[39]||s.key[68]||s.key[37]||s.key[65]?r.shoot||r.reload||r.meleeattack||(r.player[1]=r.body.move,r.move=!0,i.get("./audio/run.wav").play()):(r.player[0]=r.survivorAll.feet.idle,r.shoot||r.reload||r.meleeattack||(r.player[1]=r.body.idle,r.move=!1,i.get("./audio/run.wav").pause())),(s.key[69]||s.key[96]||s.key[16])&&(r.shoot||r.reload||r.meleeattack||(r.meleeattack=!0,r.player[1]=r.body.meleeattack)),(s.key[82]||s.key[110]||s.key[17])&&(r.shoot||r.reload||r.meleeattack||"knife"==r.arsenal[r.arsenalIndex]||(r.reload=!0,r.countBullet+=r.clip,r.clip=0,r.player[1]=r.body.reload,i.getNewAudio("./audio/reload.wav"))),s.key[49]&&r.knife&&!r.shoot&&!r.meleeattack&&(s.key[49]=!1,r.next=!0,r.cntBullet[r.arsenal[r.arsenalIndex]]=r.countBullet+r.clip,r.arsenalIndex=0,r.countBullet=r.cntBullet[r.arsenal[r.arsenalIndex]],r.clip=0),s.key[50]&&r.handgun&&!r.shoot&&!r.meleeattack&&(s.key[50]=!1,r.next=!0,r.cntBullet[r.arsenal[r.arsenalIndex]]=r.countBullet+r.clip,r.arsenalIndex=1,r.countBullet=r.cntBullet[r.arsenal[r.arsenalIndex]],r.clip=0),s.key[51]&&r.machinegun&&!r.shoot&&!r.meleeattack&&(s.key[51]=!1,r.next=!0,r.cntBullet[r.arsenal[r.arsenalIndex]]=r.countBullet+r.clip,r.arsenalIndex=2,r.countBullet=r.cntBullet[r.arsenal[r.arsenalIndex]],r.clip=0),s.key[52]&&r.shotgun&&!r.shoot&&!r.meleeattack&&(s.key[52]=!1,r.next=!0,r.cntBullet[r.arsenal[r.arsenalIndex]]=r.countBullet+r.clip,r.arsenalIndex=3,r.countBullet=r.cntBullet[r.arsenal[r.arsenalIndex]],r.clip=0),s.wheel.up&&!r.shoot&&!r.meleeattack){s.wheel.up=!1,r.next=!0,r.cntBullet[r.arsenal[r.arsenalIndex]]=r.countBullet+r.clip;do{r.arsenalIndex=(r.arsenalIndex+1)%r.arsenal.length}while(!r[r.arsenal[r.arsenalIndex]]);r.countBullet=r.cntBullet[r.arsenal[r.arsenalIndex]],r.clip=0}if(s.wheel.down&&!r.shoot&&!r.meleeattack){s.wheel.down=!1,r.next=!0,r.cntBullet[r.arsenal[r.arsenalIndex]]=r.countBullet+r.clip;do{r.arsenalIndex=((r.arsenalIndex||r.arsenal.length)-1)%r.arsenal.length}while(!r[r.arsenal[r.arsenalIndex]]);r.countBullet=r.cntBullet[r.arsenal[r.arsenalIndex]],r.clip=0}(s.key[27]||s.blur)&&(s.key[27]=!1,s.blur=!1,r.pause=!0)}s.a=r},function(e,s,t){"use strict";function r(e,s){e.ctx.save(),e.ctx.font="48px serif",e.ctx.fillStyle="rgb("+(255-Math.floor(255*s.health/100))+",0,0)",e.ctx.fillText(""+(s.health>0?s.health:0),10,50),e.ctx.restore(),e.ctx.save(),e.ctx.font="48px Calc",e.ctx.fillStyle="rgba(0,255,0,0.9)",e.ctx.fillText(""+i(s.score),e.width-300,50),e.ctx.restore(),e.ctx.save(),e.ctx.font="32px serif",e.ctx.fillStyle="rgba(0,0,0,0.5)",e.ctx.fillText("FPS "+s.fps,10,e.height-10),e.ctx.restore(),"knife"!=s.arsenal[s.arsenalIndex]?(e.ctx.save(),e.ctx.font="48px serif",e.ctx.fillStyle="rgba(0,0,0,0.9)",e.ctx.fillText((s.clip>9?s.clip:"0"+s.clip)+" / "+(s.countBullet>99?s.countBullet:s.countBullet>9?"0"+s.countBullet:"00"+s.countBullet),e.width-180,e.height-10),e.ctx.restore(),s.menu.array[1]=s.menu.bullet[s.arsenal[s.arsenalIndex]],s.menu.array[1].pos.x=e.width-195,s.menu.array[1].pos.y=e.height-25):delete s.menu.array[1],s.menu.array[2]=s.menu.gun[s.arsenal[s.arsenalIndex]],s.menu.array[2].pos.x=10,s.menu.array[2].pos.y=60}s.a=r;var i=function(e){var s=String(e);return" ".repeat(10-s.length)+s}},function(e,s,t){"use strict";function r(e,s,t,r){i+=e,r.menu.array[0].size.x+=Math.sin(10*i)/2,r.menu.array[0].size.y+=Math.sin(10*i)/2,r.menu.array[0].rotate.x=r.menu.array[0].size.x/2,r.menu.array[0].rotate.y=r.menu.array[0].size.y/2,r.survivorAll.pos.x=s.width/2+r.a,r.survivorAll.pos.y=s.height/2+r.b,r.survivorAll.angle[0]=Math.atan2(t.mousemove.y-r.survivorAll.pos.y,t.mousemove.x-r.survivorAll.pos.x);for(var o=0;o<r.spidersAll.length;o++)r.spidersAll[o].attackBool?(r.spidersAll[o].pos.x+=r.x,r.spidersAll[o].pos.y+=r.y,r.spidersAll[o].angle[0]=Math.atan2(r.spidersAll[o].pos.y-r.survivorAll.pos.y,r.spidersAll[o].pos.x-r.survivorAll.pos.x)+Math.PI/2):r.spidersAll[o].dieBool?(r.spidersAll[o].pos.x+=r.x,r.spidersAll[o].pos.y+=r.y):(r.spidersAll[o].angle[0]=Math.atan2(r.spidersAll[o].pos.y-r.survivorAll.pos.y,r.spidersAll[o].pos.x-r.survivorAll.pos.x)+Math.PI/2,r.survivorAll.pos.x-r.spidersAll[o].pos.x<0?r.spidersAll[o].pos.x-=Math.abs(Math.cos(r.spidersAll[o].angle[0]-Math.PI/2))*r.spidersAll[o].speed*e-r.x:r.spidersAll[o].pos.x+=Math.abs(Math.cos(r.spidersAll[o].angle[0]-Math.PI/2))*r.spidersAll[o].speed*e+r.x,r.survivorAll.pos.y-r.spidersAll[o].pos.y<0?r.spidersAll[o].pos.y-=Math.abs(Math.sin(r.spidersAll[o].angle[0]-Math.PI/2))*r.spidersAll[o].speed*e-r.y:r.spidersAll[o].pos.y+=Math.abs(Math.sin(r.spidersAll[o].angle[0]-Math.PI/2))*r.spidersAll[o].speed*e+r.y);for(var a=0;a<r.blood.length;a++)r.blood[a].pos.x+=r.x,r.blood[a].pos.y+=r.y;for(var n=0;n<r.box.length;n++)r.box[n].rotate.angle[0]+=e,r.box[n].pos.x+=r.x,r.box[n].pos.y+=r.y;r.x=0,r.y=0}s.a=r;var i=0},function(e,s,t){"use strict";function r(e,s,r){var a=void 0;if(r.spiders[o[0].mame]){r.spiders[o[0].mame]=!1;for(var n=0;n<50;n++){var l=t.i(i.e)(e,r,"./img/spider_"+o[0].mame+".png",o[0].size,o[0].spriteSpeed,o[0].health,o[0].speedPos);for(l.pos.x=1e4*Math.random()-5e3;!l.pos.x<0&&!l.pos.x>s.width;)l.pos.x=1e4*Math.random()-5e3;for(l.pos.y=1e4*Math.random()-5e3;!l.pos.y<0&&!l.pos.y>s.height;)l.pos.y=1e4*Math.random()-5e3;r.spidersAll.push(l),r.spiderScene.push(l.run)}}if(r.totalTime>30&&r.spiders[o[1].mame]){r.spiders[o[1].mame]=!1;for(var p=0;p<40;p++){var d=t.i(i.e)(e,r,"./img/spider_"+o[1].mame+".png",o[1].size,o[1].spriteSpeed,o[1].health,o[1].speedPos);for(d.pos.x=1e4*Math.random()-5e3;!d.pos.x<0&&!d.pos.x>s.width;)d.pos.x=1e4*Math.random()-5e3;for(d.pos.y=1e4*Math.random()-5e3;!d.pos.y<0&&!d.pos.y>s.height;)d.pos.y=1e4*Math.random()-5e3;r.spidersAll.push(d),r.spiderScene.push(d.run)}}if(r.totalTime>60&&r.spiders[o[2].mame]){r.spiders[o[2].mame]=!1;for(var h=0;h<30;h++){var u=t.i(i.e)(e,r,"./img/spider_"+o[2].mame+".png",o[2].size,o[2].spriteSpeed,o[2].health,o[2].speedPos);for(u.pos.x=1e4*Math.random()-5e3;!u.pos.x<0&&!u.pos.x>s.width;)u.pos.x=1e4*Math.random()-5e3;for(u.pos.y=1e4*Math.random()-5e3;!u.pos.y<0&&!u.pos.y>s.height;)u.pos.y=1e4*Math.random()-5e3;r.spidersAll.push(u),r.spiderScene.push(u.run)}}if(r.totalTime>90&&r.spiders[o[3].mame]){r.spiders[o[3].mame]=!1;for(var c=0;c<30;c++){var g=t.i(i.e)(e,r,"./img/spider_"+o[3].mame+".png",o[3].size,o[3].spriteSpeed,o[3].health,o[3].speedPos);for(g.pos.x=1e4*Math.random()-5e3;!g.pos.x<0&&!g.pos.x>s.width;)g.pos.x=1e4*Math.random()-5e3;for(g.pos.y=1e4*Math.random()-5e3;!g.pos.y<0&&!g.pos.y>s.height;)g.pos.y=1e4*Math.random()-5e3;r.spidersAll.push(g),r.spiderScene.push(g.run)}}if(r.totalTime>120&&r.spiders[o[4].mame]){r.spiders[o[4].mame]=!1;for(var m=0;m<30;m++){var y=t.i(i.e)(e,r,"./img/spider_"+o[4].mame+".png",o[4].size,o[4].spriteSpeed,o[4].health,o[4].speedPos);for(y.pos.x=1e4*Math.random()-5e3;!y.pos.x<0&&!y.pos.x>s.width;)y.pos.x=1e4*Math.random()-5e3;for(y.pos.y=1e4*Math.random()-5e3;!y.pos.y<0&&!y.pos.y>s.height;)y.pos.y=1e4*Math.random()-5e3;r.spidersAll.push(y),r.spiderScene.push(y.run)}}if(r.totalTime>150&&r.spiders[o[5].mame]){r.spiders[o[5].mame]=!1;for(var f=0;f<20;f++){var v=t.i(i.e)(e,r,"./img/spider_"+o[5].mame+".png",o[5].size,o[5].spriteSpeed,o[5].health,o[5].speedPos);for(v.pos.x=1e4*Math.random()-5e3;!v.pos.x<0&&!v.pos.x>s.width;)v.pos.x=1e4*Math.random()-5e3;for(v.pos.y=1e4*Math.random()-5e3;!v.pos.y<0&&!v.pos.y>s.height;)v.pos.y=1e4*Math.random()-5e3;r.spidersAll.push(v),r.spiderScene.push(v.run)}for(var x=0;x<5;x++){a=Math.floor(Math.random()*o.length);var A=t.i(i.e)(e,r,"./img/spider_"+o[a].mame+".png",o[a].size,o[a].spriteSpeed,o[a].health,o[a].speedPos);for(A.pos.x=1e4*Math.random()-5e3;!A.pos.x<0&&!A.pos.x>s.width;)A.pos.x=1e4*Math.random()-5e3;for(A.pos.y=1e4*Math.random()-5e3;!A.pos.y<0&&!A.pos.y>s.height;)A.pos.y=1e4*Math.random()-5e3;r.spidersAll.push(A),r.spiderScene.push(A.run)}}if(r.totalTime>180&&r.spiders[o[6].mame]){r.spiders[o[6].mame]=!1;for(var w=0;w<20;w++){var M=t.i(i.e)(e,r,"./img/spider_"+o[6].mame+".png",o[6].size,o[6].spriteSpeed,o[6].health,o[6].speedPos);for(M.pos.x=1e4*Math.random()-5e3;!M.pos.x<0&&!M.pos.x>s.width;)M.pos.x=1e4*Math.random()-5e3;for(M.pos.y=1e4*Math.random()-5e3;!M.pos.y<0&&!M.pos.y>s.height;)M.pos.y=1e4*Math.random()-5e3;r.spidersAll.push(M),r.spiderScene.push(M.run)}for(var b=0;b<5;b++){a=Math.floor(Math.random()*o.length);var z=t.i(i.e)(e,r,"./img/spider_"+o[a].mame+".png",o[a].size,o[a].spriteSpeed,o[a].health,o[a].speedPos);for(z.pos.x=1e4*Math.random()-5e3;!z.pos.x<0&&!z.pos.x>s.width;)z.pos.x=1e4*Math.random()-5e3;for(z.pos.y=1e4*Math.random()-5e3;!z.pos.y<0&&!z.pos.y>s.height;)z.pos.y=1e4*Math.random()-5e3;r.spidersAll.push(z),r.spiderScene.push(z.run)}}if(r.totalTime>210&&r.spiders[o[7].mame]){r.spiders[o[7].mame]=!1;for(var k=0;k<20;k++){var I=t.i(i.e)(e,r,"./img/spider_"+o[7].mame+".png",o[7].size,o[7].spriteSpeed,o[7].health,o[7].speedPos);for(I.pos.x=1e4*Math.random()-5e3;!I.pos.x<0&&!I.pos.x>s.width;)I.pos.x=1e4*Math.random()-5e3;for(I.pos.y=1e4*Math.random()-5e3;!I.pos.y<0&&!I.pos.y>s.height;)I.pos.y=1e4*Math.random()-5e3;r.spidersAll.push(I),r.spiderScene.push(I.run)}for(var S=0;S<5;S++){a=Math.floor(Math.random()*o.length);var P=t.i(i.e)(e,r,"./img/spider_"+o[a].mame+".png",o[a].size,o[a].spriteSpeed,o[a].health,o[a].speedPos);for(P.pos.x=1e4*Math.random()-5e3;!P.pos.x<0&&!P.pos.x>s.width;)P.pos.x=1e4*Math.random()-5e3;for(P.pos.y=1e4*Math.random()-5e3;!P.pos.y<0&&!P.pos.y>s.height;)P.pos.y=1e4*Math.random()-5e3;r.spidersAll.push(P),r.spiderScene.push(P.run)}}if(r.totalTime>240&&r.spiders[o[8].mame]){r.spiders[o[8].mame]=!1;for(var _=0;_<20;_++){var B=t.i(i.e)(e,r,"./img/spider_"+o[8].mame+".png",o[8].size,o[8].spriteSpeed,o[8].health,o[8].speedPos);for(B.pos.x=1e4*Math.random()-5e3;!B.pos.x<0&&!B.pos.x>s.width;)B.pos.x=1e4*Math.random()-5e3;for(B.pos.y=1e4*Math.random()-5e3;!B.pos.y<0&&!B.pos.y>s.height;)B.pos.y=1e4*Math.random()-5e3;r.spidersAll.push(B),r.spiderScene.push(B.run);for(var E=0;E<5;E++){a=Math.floor(Math.random()*o.length);var T=t.i(i.e)(e,r,"./img/spider_"+o[a].mame+".png",o[a].size,o[a].spriteSpeed,o[a].health,o[a].speedPos);T.pos.x=1e4*Math.random()-5e3,T.pos.y=1e4*Math.random()-5e3,r.spidersAll.push(T),r.spiderScene.push(T.run)}}}if(r.totalTime>270&&Math.random()<.01&&r.spidersAll.length<120)for(var O=0;O<5;O++){a=Math.floor(Math.random()*o.length);var L=t.i(i.e)(e,r,"./img/spider_"+o[a].mame+".png",o[a].size,o[a].spriteSpeed,o[a].health,o[a].speedPos);for(L.pos.x=1e4*Math.random()-5e3;!L.pos.x<0&&!L.pos.x>s.width;)L.pos.x=1e4*Math.random()-5e3;for(L.pos.y=1e4*Math.random()-5e3;!L.pos.y<0&&!L.pos.y>s.height;)L.pos.y=1e4*Math.random()-5e3;r.spidersAll.push(L),r.spiderScene.push(L.run)}}var i=t(1);s.a=r;var o=[{mame:"black",size:1.5,spriteSpeed:10,health:1,speedPos:100},{mame:"silver",size:1.5,spriteSpeed:11,health:2,speedPos:120},{mame:"green",size:1.5,spriteSpeed:12,health:3,speedPos:150},{mame:"red",size:1.5,spriteSpeed:13,health:4,speedPos:170},{mame:"black_red",size:1.5,spriteSpeed:14,health:5,speedPos:190},{mame:"blue",size:1.5,spriteSpeed:14,health:6,speedPos:200},{mame:"red_blue",size:1.5,spriteSpeed:14,health:7,speedPos:250},{mame:"green_white_red",size:1.5,spriteSpeed:14,health:8,speedPos:300},{mame:"steel_yelow_orange",size:1.5,spriteSpeed:15,health:10,speedPos:340}]},function(e,s,t){"use strict";function r(e,s,t){s.player[0].updateSprites(e),s.player[1].updateSprites(e),s.meleeattack||s.shoot||!s.next||("knife"!=s.arsenal[s.arsenalIndex]?t.getNewAudio("./audio/reload.wav"):s.reload=!1,s.next=!1,s.body=s.survivorAll.body[s.arsenal[s.arsenalIndex]],s.player[1]="knife"==s.arsenal[s.arsenalIndex]?s.body.idle:s.body.reload,s.player[1].sprites.lastOrder=!1,s.player[1].sprites._order=0,s.countBullet=s.cntBullet[s.arsenal[s.arsenalIndex]]),s.clip<1&&!s.reload&&s.countBullet&&(s.reload=!0,s.player[1]=s.body.reload,t.getNewAudio("./audio/reload.wav")),s.meleeattack&&9==s.player[1].sprites.order&&s.mel++,s.player[1].sprites.lastOrder&&(s.player[1].sprites.lastOrder=!1,s.player[1].sprites._order=0,s.player[1]=s.body.idle,s.reload&&(s.clip=s.countBullet-s.clp[s.arsenal[s.arsenalIndex]]>=0?s.clp[s.arsenal[s.arsenalIndex]]:s.countBullet,s.countBullet-=s.clip),s.shoot=!1,s.meleeattack=!1,s.reload=!1,s.mel=0),s.player[2]&&(s.player[2].updateSprites(e),1==s.player[2].sprites.order&&s.bullet++,s.player[2].sprites.lastOrder&&(s.player[2].sprites.lastOrder=!1,s.player[2].sprites._order=0,s.player.pop(),s.bullet=0));for(var r=0;r<s.spiderScene.length;r++)s.spiderScene[r].updateSprites(e),s.spidersAll[r].attackBool&&s.spiderScene[r].sprites.lastOrder&&(s.spidersAll[r].attackBool=!1,s.spiderScene[r].sprites.lastOrder=!1,s.spiderScene[r].sprites._order=0,s.spiderScene[r]=s.spidersAll[r].run,s.bite++),s.spidersAll[r].dieBool&&s.spiderScene[r].sprites.lastOrder&&(s.spidersAll.splice(r,1),s.spiderScene.splice(r,1),r--)}s.a=r},function(e,s,t){"use strict";function r(e,s,t,r){return s.pause?(e.ctx.save(),e.ctx.fillStyle="rgba(0,0,0,0.8)",e.ctx.fillRect(0,0,e.width,e.height),e.ctx.restore(),t.wrap.hidden=!1,s.audioFon.pause(),r.get("./audio/spiderChattering.wav").pause(),!1):!!(s.spidersAll.length&&s.health>0)||(s.health>0&&s.win?(e.ctx.save(),e.ctx.fillStyle="rgba(0,0,0,0.8)",e.ctx.fillRect(0,0,e.width,e.height),e.ctx.restore(),t.state.hidden=!1,t.score.hidden=!1,t.wrap.hidden=!1,t.state.innerHTML="WIN",t.idScore.innerHTML=""+s.score,t.continue.hidden=!0,!1):!(s.health<1)||(s.health=0,s.end=!0,e.ctx.save(),e.ctx.fillStyle="rgba(0,0,0,0.8)",e.ctx.fillRect(0,0,e.width,e.height),e.ctx.restore(),t.state.hidden=!1,t.score.hidden=!1,t.wrap.hidden=!1,t.state.innerHTML="Game Over",t.idScore.innerHTML=""+s.score,t.continue.hidden=!0,!1))}s.a=r},function(e,s,t){"use strict";function r(e,s,r){function a(e,s,t,r,i,o,a,n){return!(e>=a||s>=n||t<=i||r<=o)}function n(e,s){return Array.isArray(e.size)&&Array.isArray(s.size)?a(e.pos.x-e.size[0]/2,e.pos.y-e.size[1]/2,e.pos.x+e.size[0]/2,e.pos.y+e.size[1]/2,s.pos.x-s.size[0]/2,s.pos.y-s.size[1]/2,s.pos.x+s.size[0]/2,s.pos.y+s.size[1]/2):Array.isArray(e.size)?a(e.pos.x-e.size[0]/2,e.pos.y-e.size[1]/2,e.pos.x+e.size[0]/2,e.pos.y+e.size[1]/2,s.pos.x-s.size.x/2,s.pos.y-s.size.y/2,s.pos.x+s.size.x/2,s.pos.y+s.size.y/2):Array.isArray(s.size)?a(e.pos.x-e.size.x/2,e.pos.y-e.size.y/2,e.pos.x+e.size.x/2,e.pos.y+e.size.y/2,s.pos.x-s.size[0]/2,s.pos.y-s.size[1]/2,s.pos.x+s.size[0]/2,s.pos.y+s.size[1]/2):a(e.pos.x-e.size.x/2,e.pos.y-e.size.y/2,e.pos.x+e.size.x/2,e.pos.y+e.size.y/2,s.pos.x-s.size.x/2,s.pos.y-s.size.y/2,s.pos.x+s.size.x/2,s.pos.y+s.size.y/2)}for(var l=0;l<r.spidersAll.length;l++)!n(r.spidersAll[l],r.survivorAll)||r.spidersAll[l].attackBool||r.spidersAll[l].dieBool||(r.spidersAll[l].attackBool=!0,r.spiderScene[l]=r.spidersAll[l].attack);for(var p=0;p<r.box.length;p++)n(r.box[p],r.survivorAll)&&r.box[p].fun()&&(r.box.splice(p,1),p--,e.getNewAudio("./audio/box.wav"));for(var d=0;d<r.spidersAll.length;d++){var h=e.get("./audio/spiderChattering.wav");h.volume=.8,h.play();for(var u=1,c=d+1;c<r.spidersAll.length;c++){u++;for(var g=0;n(r.spidersAll[d],r.spidersAll[c])&&g++<4;)u%2==0?r.spidersAll[d].pos.y>r.spidersAll[c].pos.y?(++r.spidersAll[d].pos.y,--r.spidersAll[c].pos.y):(--r.spidersAll[d].pos.y,++r.spidersAll[c].pos.y):r.spidersAll[d].pos.x>r.spidersAll[c].pos.x?(++r.spidersAll[d].pos.x,--r.spidersAll[c].pos.x):(--r.spidersAll[d].pos.x,++r.spidersAll[c].pos.x)}}if(1===r.bullet&&r.clip>0){r.bullet++,r.clip--,"handgun"==r.arsenal[r.arsenalIndex]&&e.getNewAudio("./audio/handgun.wav"),"shotgun"==r.arsenal[r.arsenalIndex]&&e.getNewAudio("./audio/shotgun.wav"),"machinegun"==r.arsenal[r.arsenalIndex]&&e.getNewAudio("./audio/machinegun.wav");for(var m="shotgun"==r.arsenal[r.arsenalIndex]?0:7;m<8;m++){var y=!0,f=s.mousemove.x,v=s.mousemove.y,x=Math.atan2(v-r.survivorAll.pos.y,f-r.survivorAll.pos.x),A={};A.x=r.survivorAll.pos.x,A.y=r.survivorAll.pos.y,"shotgun"==r.arsenal[r.arsenalIndex]&&(f+=120*Math.random()-60,v+=120*Math.random()-60,x=Math.atan2(v-A.y,f-A.x));for(var w=f>r.survivorAll.pos.x,M=v>r.survivorAll.pos.y;y;){if(w){if(A.x>f)break}else if(A.x<f)break;if(M){if(A.y>v)break}else if(A.y<v)break;for(var b=0;b<r.spidersAll.length;b++)if(n(r.spidersAll[b],{pos:{x:A.x,y:A.y},size:[0,0]})&&!r.spidersAll[b].dieBool){r.score+=100,r.spidersAll[b].health--,r.spidersAll[b].health<1?(t.i(o.i)(b,e,s,r),r.spidersAll[b].attackBool=!1,r.spidersAll[b].dieBool=!0,r.spiderScene[b]=r.spidersAll[b].die,r.blood.push(new i.d(new i.e(e.get("./img/blood_green.png"),[256,256],[256*(Math.floor(7*Math.random())+0),0],0,[0]),{x:60,y:60},{angle:[Math.random()*(Math.PI- -Math.PI)-Math.PI],x:30,y:30},{x:r.spidersAll[b].pos.x,y:r.spidersAll[b].pos.y})),e.get("./audio/spider_die.wav").play()):r.blood.push(new i.d(new i.e(e.get("./img/blood_green_small.png"),[256,256],[256*(Math.floor(4*Math.random())+0),0],0,[0]),{x:60,y:60},{angle:[Math.random()*(Math.PI- -Math.PI)-Math.PI],x:30,y:30},{x:r.spidersAll[b].pos.x,y:r.spidersAll[b].pos.y})),y=!1;break}A.x+=Math.cos(x)*(30*Math.random()+20)*r.screenSize,A.y+=Math.sin(x)*(30*Math.random()+20)*r.screenSize}y&&(r.score--,r.blood.push(new i.d(new i.e(e.get("./img/cracks.png"),[256,256],[256*(Math.floor(4*Math.random())+0),0],0,[0]),{x:30,y:30},{angle:[Math.random()*(Math.PI- -Math.PI)-Math.PI],x:15,y:15},{x:A.x,y:A.y})))}}if(r.bite&&(e.get("./audio/insectoralien.wav").play(),r.health-=r.bite,r.bite=0,r.blood.push(new i.d(new i.e(e.get("./img/blood_red.png"),[256,256],[256*(Math.floor(5*Math.random())+0),0],0,[0]),{x:120,y:120},{angle:[Math.random()*(Math.PI- -Math.PI)-Math.PI],x:60,y:60},{x:r.survivorAll.pos.x,y:r.survivorAll.pos.y}))),1==r.mel){r.mel++;for(var z=e.get("./audio/meleeattack.wav"),k=new Array(3).fill(0).map(function(){return{pos:{x:r.survivorAll.pos.x,y:r.survivorAll.pos.y},size:[0,0]}}),I=0;I<3;I++)for(var S=0;S<3;S++){k[S].pos.x+=30*Math.cos(r.survivorAll.angle[0]-Math.PI/4+Math.PI*S/4)*r.screenSize,k[S].pos.y+=30*Math.sin(r.survivorAll.angle[0]-Math.PI/4+Math.PI*S/4)*r.screenSize;for(var P=0;P<r.spidersAll.length;P++)n(r.spidersAll[P],k[S])&&!r.spidersAll[P].dieBool&&(z=e.get("./audio/knife.wav"),r.score+=100,r.spidersAll[P].health--,r.spidersAll[P].health<1?(r.spidersAll[P].attackBool=!1,r.spidersAll[P].dieBool=!0,r.spiderScene[P]=r.spidersAll[P].die,r.blood.push(new i.d(new i.e(e.get("./img/blood_green.png"),[256,256],[256*(Math.floor(7*Math.random())+0),0],0,[0]),{x:60,y:60},{angle:[Math.random()*(Math.PI- -Math.PI)-Math.PI],x:30,y:30},{x:r.spidersAll[P].pos.x,y:r.spidersAll[P].pos.y})),t.i(o.i)(P,e,s,r)):r.blood.push(new i.d(new i.e(e.get("./img/blood_green_small.png"),[256,256],[256*(Math.floor(4*Math.random())+0),0],0,[0]),{x:60,y:60},{angle:[Math.random()*(Math.PI- -Math.PI)-Math.PI],x:30,y:30},{x:r.spidersAll[P].pos.x,y:r.spidersAll[P].pos.y})))}z.play()}}var i=t(0),o=t(2);s.a=r}]);